//
//  MockRefugesInfoData.swift
//  TripMapp
//
//  Created by Ressier Mathilde on 24/08/2023.
//

import Foundation

final class MockRefugesInfoDataProvider: ObservableObject, RefugesInfoDataProviderProtocol {
    // -------------------------------------------------------------------------
    // MARK: - Refuges
    // -------------------------------------------------------------------------

    let refuges: [RefugesInfo.RefugePoint] = [
        RefugesInfo.RefugePoint(properties: .init(
            id: 0,
            link: URL(string: "https://www.refuges.info/point/3776/cabane-non-gardee/Cabane-pastorale-de-Clartan/")!,
            name: "Cabane pastorale de Clartan",
            symbol: "Crossing",
            coordinates: .init(
                altitude: 2013,
                longitude: "6.37203",
                latitude: "45.50609",
                precision: .init(name: "Coordonnées pointées sur photos aériennes", type: 7)
            ),
            type: .hut,
            capacity: .init(name: "Places prévues pour dormir", value: 0),
            maintenance: .init(valeur: "Détruite", id: "detruit"),
            date: .init(lastModified: .now, creation: .now),
            note: .init(
                name: "Remarque",
                value: "[color=green][b]Cette construction fait partie d'un plan d'aménagement du pastoralisme, tout autour du massif, avec la construction de cabanes strictement réservées aux bergers ; la séparation est ainsi effective d'avec les anciennes constructions qui sont désormais destinées aux autres utilisateurs de la montagne (chasseurs, randonneurs).[/b][/color]\r\nInutile donc de compter dessus, surtout à cette altitude où le bois n'existe pas.\r\n\r\n[b] * DETRUITE PAR UNE AVALANCHE !!*[/b]"
            ),
            access: .init(
                name: "Accès",
                value: "Sur le sentier \"tour des alpages\", entre la Vénitier et l'Arbesserie."
            ),
            owner: .init(name: "Propriétaire / accessibilité", value: ""),
            creator: .init(id: 1141, name: "Claude Mauguier"),
            article: .init(demonstrative: "cette", definite: "la", partitive: "d'une"),
            additionnalInfo: .init(
                officialSite: .init(name: "Site Internet", url: nil, value: nil),
                missingWall: .init(name: "", value: nil),
                fireplace: .init(name: "", value: nil),
                stove: .init(name: "", value: nil),
                blankets: .init(name: "", value: nil),
                mattressPlaces: .init(name: "Places sur Matelas", count: nil, value: "Sans"),
                toilets: .init(name: "", value: nil),
                wood: .init(name: "", value: nil),
                water: .init(name: "", value: nil)
            ),
            description: .init(value: "[color=green]*Cette construction fait partie d'un plan d'aménagement du pastoralisme, tout autour du massif, avec la construction de cabanes strictement réservées aux bergers ; la séparation est ainsi effective d'avec les anciennes constructions qui sont désormais destinées aux autres utilisateurs de la montagne (chasseurs, randonneurs).*[/color]\r\nInutile donc de compter dessus, surtout à cette altitude où le bois n'existe pas.\r\n\r\n* * DETRUITE PAR UNE AVALANCHE !!**Sur le sentier &quot;tour des alpages&quot;, entre la Vénitier et l'Arbesserie.")
        ), geometry: .init(coordinates: [6.37203, 45.50609]))
    ]

    func loadRefuge(id: RefugeId) async throws -> RefugesInfo.RefugePoint {
        return refuges[0]
    }

    func loadRefuges(
        massif: RefugesInfo.Massif,
        type: RefugesInfo.PointType?
    ) async throws -> RefugesInfo.RefugesLightPointResponse {
        let lightPoints = refuges.map { $0.toLightPoint }
        return .init(features: lightPoints)
    }

    // -------------------------------------------------------------------------
    // MARK: - Massifs
    // -------------------------------------------------------------------------

    let massifs = [RefugesInfo.MassifPolygon(
        properties: .init(
            id: 352,
            name: "Alpes",
            type: .init(id: 11, category: "zone", type: "montagnarde"),
            link: .massifAlpes,
            colorHexa: "#c0302f"
        ), geometry: .init(coordinates: [
            [[[5.90618,43.95699],[5.9594,44.02047],[6.02909,44.04935],[6.01124,44.09769],[5.95184,44.21273],[5.88524,44.19304],[5.70259,44.397],[5.61173,44.47683],[5.37231,44.54938],[5.22125,44.50189],[5.0647,44.58313],[5.03,44.73],[5.03,44.8],[5.2,45.08],[5.6,45.32],[5.70761,45.38186],[5.77506,45.43313],[5.80931,45.45242],[5.85814,45.52831],[5.92072,45.58867],[5.95639,45.68561],[6.05993,45.77495],[6.08185,45.83679],[6.12704,45.88904],[6.14512,45.90139],[6.13,45.92],[6.32,46.09],[6.43259,46.08021],[6.44457,46.08766],[6.38481,46.15289],[6.33932,46.16833],[6.32996,46.22544],[6.44502,46.26584],[6.53482,46.3366],[6.61716,46.34163],[6.72062,46.40286],[6.84148,46.38164],[6.87345,46.38624],[6.87,46.39],[6.85822,46.47179],[6.93201,46.55991],[6.97463,46.6058],[7.02509,46.60527],[7.07055,46.63162],[7.10918,46.66313],[7.10898,46.6765],[7.18085,46.7216],[7.18231,46.72279],[7.18293,46.72291],[7.18462,46.72396],[7.22159,46.73006],[7.3224,46.74873],[7.3234,46.75135],[7.4679,46.78067],[7.47144,46.77634],[7.48718,46.77925],[7.5912,46.70626],[7.62367,46.71096],[7.63629,46.75844],[7.65342,46.78483],[7.74984,46.79545],[7.85285,46.81377],[7.90548,46.84154],[7.94963,46.90952],[8.03401,46.94127],[8.11312,46.99269],[8.2039,47.0252],[8.27793,47.03006],[8.35162,47.03082],[8.43558,47.07928],[8.50252,47.12537],[8.59323,47.15849],[8.69803,47.17729],[8.78856,47.19335],[8.88251,47.17212],[8.98294,47.15822],[9.09007,47.11583],[9.23756,47.17291],[9.36522,47.20019],[9.48929,47.15114],[9.58512,47.22321],[9.66248,47.28572],[9.64365,47.33019],[9.7634,47.40631],[9.77189,47.48528],[9.89044,47.54546],[10.04391,47.55426],[10.14895,47.56648],[10.28067,47.56968],[10.32799,47.59024],[10.44878,47.57431],[10.54055,47.58478],[10.62558,47.54881],[10.6767,47.53704],[10.74705,47.56839],[10.82262,47.62072],[10.9077,47.60749],[10.97725,47.6125],[11.11787,47.63159],[11.24173,47.66797],[11.30171,47.67271],[11.33799,47.63722],[11.41141,47.68318],[11.45373,47.73984],[11.51765,47.74826],[11.61655,47.75262],[11.70163,47.74797],[11.79016,47.74739],[11.89209,47.76133],[11.97717,47.76104],[12.16096,47.76345],[12.30475,47.7959],[12.56414,47.7977],[12.80707,47.82489],[13.00819,47.77583],[13.1064,47.8126],[13.23225,47.82983],[13.31684,47.82804],[13.40046,47.7995],[13.49227,47.78782],[13.55863,47.8112],[13.6109,47.84535],[13.77395,47.85003],[13.81483,47.91331],[13.88196,47.9388],[13.96349,47.96913],[14.07219,47.92993],[14.1506,47.95908],[14.34674,47.94393],[14.41921,48.01017],[14.54882,48.0097],[14.65699,48.03206],[14.73905,48.01017],[14.8164,48.04605],[15.00733,48.05304],[15.16515,48.03672],[15.38152,48.07912],[15.47657,48.10881],[15.55784,48.10583],[15.60924,48.05257],[15.76868,48.02947],[15.85675,48.07605],[15.95431,48.1263],[15.98553,48.18543],[16.0556,48.24445],[16.19557,48.31642],[16.25445,48.3486],[16.29978,48.34064],[16.3065,48.28416],[16.28532,48.22477],[16.26123,48.17151],[16.2502,48.10802],[16.28819,48.06599],[16.20281,48.00033],[16.20226,47.9675],[16.16061,47.96717],[16.13926,47.94024],[16.17438,47.92867],[16.19058,47.88984],[16.17048,47.83819],[16.09188,47.80638],[16.05118,47.77866],[16.01216,47.71457],[15.9335,47.6731],[15.95865,47.62522],[16.02331,47.59177],[16.03725,47.5346],[16.01728,47.4691],[15.94081,47.45663],[15.81761,47.48715],[15.76333,47.44354],[15.79364,47.37553],[15.68939,47.27691],[15.59017,47.26972],[15.44806,47.15266],[15.35648,47.19834],[15.29304,47.16977],[15.28357,47.11062],[15.16594,47.09923],[15.06727,47.05557],[15.11075,46.9788],[15.18563,46.94221],[15.1888,46.80356],[15.21845,46.71766],[15.27973,46.66699],[15.42192,46.66126],[15.59573,46.63294],[15.62187,46.5944],[15.68418,46.5024],[15.58591,46.37109],[15.37331,46.34796],[15.22194,46.34455],[15.05983,46.36288],[14.95302,46.26891],[14.73654,46.25068],[14.59451,46.26464],[14.44069,46.31074],[14.35123,46.2593],[14.32029,46.17596],[14.44108,46.11761],[14.41645,46.04687],[14.27883,46.00152],[14.21885,45.91862],[14.07268,45.88571],[13.84808,45.91708],[13.68864,45.98827],[13.50839,46.04051],[13.38378,46.13735],[13.24419,46.2067],[13.12893,46.31054],[13.0221,46.21546],[12.91582,46.20163],[12.8166,46.21829],[12.59054,46.15109],[12.55615,46.08226],[12.49284,46.01846],[12.33889,46.00883],[12.22045,45.94904],[12.08167,45.9057],[11.95669,45.89591],[11.83149,45.86236],[11.74426,45.79533],[11.64479,45.74353],[11.55905,45.76062],[11.37123,45.69887],[11.47467,45.60183],[11.44601,45.52702],[11.35995,45.47233],[11.28394,45.43829],[11.1562,45.43017],[11.03749,45.44998],[10.91015,45.482],[10.8177,45.52158],[10.71285,45.58192],[10.4934,45.60373],[10.29991,45.52085],[10.22393,45.59135],[10.00381,45.64786],[9.96157,45.6241],[9.95133,45.67313],[9.89859,45.64421],[9.84493,45.66201],[9.85766,45.7014],[9.79946,45.68552],[9.74694,45.71107],[9.74622,45.74258],[9.67488,45.72617],[9.60849,45.75853],[9.57338,45.75207],[9.53733,45.71198],[9.47651,45.72666],[9.45641,45.79418],[9.40053,45.84696],[9.24402,45.83084],[9.17733,45.79954],[9.06759,45.84276],[8.99088,45.87918],[8.88472,45.88392],[8.83028,45.8498],[8.68376,45.84923],[8.52815,45.81092],[8.2851,45.70647],[8.1567,45.64301],[8.00732,45.58468],[8.00567,45.52806],[8.05296,45.48472],[8.07998,45.42217],[7.95611,45.47707],[7.85301,45.46539],[7.77423,45.40114],[7.64783,45.39347],[7.57043,45.32093],[7.43528,45.21582],[7.48342,45.1227],[7.32232,44.96601],[7.28699,44.83595],[7.32232,44.71703],[7.35362,44.65026],[7.49516,44.62993],[7.48836,44.53396],[7.38135,44.47762],[7.4456,44.34505],[7.60772,44.31381],[7.81499,44.33863],[8.11305,44.35907],[8.40838,44.30748],[8.30222,44.21781],[8.18382,44.08012],[8.05044,43.947],[7.83489,43.85797],[7.52501,43.81126],[7.51294,43.80763],[7.52,43.78],[7.11839,43.51118],[6.97763,43.5311],[6.90079,43.68972],[6.68518,43.78597],[6.53584,43.87711],[6.34941,43.72819],[6.22856,43.80728],[6.19766,43.86102],[6.16299,43.8531],[6.13621,43.89393],[5.90618,43.95699]
             ]]
        ]))
    ]

    func loadMassifs() async throws -> RefugesInfo.MassifsResponse {
        return .init(features: massifs)
    }
}
